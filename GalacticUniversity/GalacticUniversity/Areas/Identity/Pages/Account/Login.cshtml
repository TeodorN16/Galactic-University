@page
@model LoginModel

@{
    ViewData["Title"] = "Log in";
}

<div class="d-flex justify-content-center align-items-center vh-100">
    <form id="account" method="post" class="form">
        <div class="form-title"><span>Sign in to your</span></div>
        <div class="title-2"><span>SPACE</span></div>

        <div asp-validation-summary="ModelOnly" class="text-danger" role="alert"></div>
        
        <div class="input-container">
            <input asp-for="Input.Email" class="input-mail form-control" autocomplete="username" aria-required="true" placeholder="Email" />
            <span></span>
            <span asp-validation-for="Input.Email" class="text-danger"></span>
        </div>
        
        <div class="input-container">
            <input asp-for="Input.Password" class="input-pwd form-control" autocomplete="current-password" aria-required="true" placeholder="Password" />
            <span asp-validation-for="Input.Password" class="text-danger"></span>
        </div>

        <div class="checkbox mb-3">
            <label asp-for="Input.RememberMe" class="form-label">
                <input class="form-check-input" asp-for="Input.RememberMe" />
                @Html.DisplayNameFor(m => m.Input.RememberMe)
            </label>
        </div>
        
        <button id="login-submit" type="submit" class="submit">
            <span class="sign-text">Sign in</span>
        </button>

        <p class="signup-link">
            No account?
            <a class="up" asp-page="./Register" asp-route-returnUrl="@Model.ReturnUrl">Sign up!</a>
        </p>
        
        <p class="signup-link">
            <a id="forgot-password" asp-page="./ForgotPassword">Forgot your password?</a>
        </p>
        
        <p class="signup-link">
            <a id="resend-confirmation" asp-page="./ResendEmailConfirmation">Resend email confirmation</a>
        </p>

        <section class="bg-stars">
            <span class="star"></span>
            <span class="star"></span>
            <span class="star"></span>
            <span class="star"></span>
        </section>
    </form>
</div>

<div class="d-flex justify-content-center mt-3">
    <section>
        <h3 class="text-center text-white">Use another service to log in</h3>
        <hr />
        @if ((Model.ExternalLogins?.Count ?? 0) == 0)
        {
            <div>
                <p class="text-white text-center">
                    There are no external authentication services configured. See this <a href="https://go.microsoft.com/fwlink/?LinkID=532715" class="text-info">article</a>.
                </p>
            </div>
        }
        else
        {
            <form id="external-account" asp-page="./ExternalLogin" asp-route-returnUrl="@Model.ReturnUrl" method="post" class="form-horizontal text-center">
                @foreach (var provider in Model.ExternalLogins!)
                {
                    <button type="submit" class="btn btn-primary m-1" name="provider" value="@provider.Name" title="Log in using @provider.DisplayName">
                        @provider.DisplayName
                    </button>
                }
            </form>
        }
    </section>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
<style>
.form {
  position: relative;
  display: block;
  padding: 3rem;
  max-width: 550px; /* Increased width */
  width: 100%;
  background: linear-gradient(
      14deg,
      rgba(2, 0, 36, 0.8) 0%,
      rgba(24, 24, 65, 0.7) 66%,
      rgb(20, 76, 99) 100%
    ),
    radial-gradient(
      circle,
      rgba(2, 0, 36, 0.5) 0%,
      rgba(32, 15, 53, 0.2) 65%,
      rgba(14, 29, 28, 0.9) 100%
    );
  border: 2px solid #fff;
  box-shadow: rgba(0, 212, 255, 0.7) 0px 0px 50px -10px;
  border-radius: 12px;
  margin: auto; /* Center the form */
}

/* Move form higher up */
.d-flex.vh-100 {
  height: 75vh !important;
  align-items: flex-start !important;
  padding-top: 3vh;
}

/*------input and submit section-------*/

.input-container {
  position: relative;
  width: 100%;
}

.input-container input,
.form button {
  outline: none;
  border: 2px solid #ffffff;
  margin: 12px 0;
  font-family: monospace;
  border-radius: 6px;
}

.input-container input {
  background-color: #fff;
  padding: 14px; /* Increased padding */
  font-size: 1.2rem; /* Bigger text */
  width: 100%; /* Adjust to form width */
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
}

.input-mail:focus::placeholder,
.input-pwd:focus::placeholder {
  opacity: 0;
  transition: opacity 0.9s;
}

/* Bigger submit button */
.submit {
  position: relative;
  display: block;
  padding: 14px; /* Increased size */
  background: linear-gradient(90deg, #243949 0%, #517fa4 100%);
  color: #ffffff;
  font-size: 1.4rem; /* Bigger text */
  font-weight: 600;
  width: 100%;
  text-transform: uppercase;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.submit:hover {
  box-shadow: 4px 5px 17px -4px #ffffff;
}

.submit::before {
  content: "";
  display: block;
  width: 0px;
  height: 85%;
  position: absolute;
  top: 50%;
  left: 0%;
  opacity: 0;
  background: #fff;
  box-shadow: 0 0 50px 30px #fff;
  transform: skewX(-20deg);
}

/*--------signup section---------*/

.signup-link {
  color: #c0c0c0;
  font-size: 1.2rem; /* Slightly larger */
  text-align: center;
}

.signup-link a {
  color: #fff;
  text-decoration: none;
}

.up:hover {
  text-decoration: underline;
}

/*--------header section-----------*/

.form-title {
  font-size: 2rem; /* Increased size */
  font-weight: 700;
  text-align: center;
  color: #fff;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
}

.title-2 {
  display: block;
  margin-top: -0.3rem;
  font-size: 3rem; /* Bigger title */
  font-weight: 900;
  text-align: center;
  -webkit-text-stroke: #fff 0.1rem;
  letter-spacing: 0.2rem;
  color: transparent;
  text-shadow: 0px 0px 16px #cecece;
}

/*---------shooting stars background-----------*/

.bg-stars {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -2;
  background-size: cover;
  animation: animateBg 50s linear infinite;
}

@@keyframes animateBg {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
}

/*---------shooting stars-----------*/

.star {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 5px;
  height: 5px;
  background: #fff;
  border-radius: 50%;
  box-shadow: 0 0 0 5px rgba(255, 255, 255, 0.1),
              0 0 0 10px rgba(255, 255, 255, 0.1),
              0 0 25px rgba(255, 255, 255, 0.15);
  animation: animate 3s linear infinite;
}

.star::before {
  content: "";
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 350px;
  height: 1px;
  background: linear-gradient(90deg, #fff, transparent);
}

@@keyframes animate {
  0% {
    transform: rotate(315deg) translateX(0);
    opacity: 1;
  }
  70% {
    opacity: 1;
  }
  100% {
    transform: rotate(315deg) translateX(-1000px);
    opacity: 0;
  }
}

/* Star positions */
.star:nth-child(1) {
  top: 0;
  right: 0;
  animation-duration: 1.2s;
}
.star:nth-child(2) {
  top: 0;
  right: 120px;
  animation-duration: 3.2s;
}
.star:nth-child(3) {
  top: 0;
  right: 240px;
  animation-duration: 2.8s;
}
.star:nth-child(4) {
  top: 0;
  right: -240px;
  animation-duration: 1.5s;
}

</style>
